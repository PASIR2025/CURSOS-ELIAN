<!DOCTYPE html>

<html lang="es">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Pasir Industrial ‚Äì Productos</title>
<meta content="Pasir Industrial: manuales, clases grabadas y apps de electricidad y automatizaci√≥n. Compra por WhatsApp." name="description"/>
<meta content="#f3f4f6" id="theme-color-meta" name="theme-color"/>
<style>
    *{box-sizing:border-box;margin:0;padding:0}
    :root{
      color-scheme: dark light;
      --bg:#f3f4f6;
      --bg-soft: radial-gradient(circle at top, rgba(59,130,246,0.12), transparent 55%);
      --header: rgba(255,255,255,0.92);
      --card:#ffffff;
      --border: rgba(148,163,184,0.35);
      --text:#0f172a;
      --muted:#6b7280;
      --accent:#10b981;
      --accent2:#2563eb;
      --shadow: 0 12px 28px rgba(15,23,42,0.10);
      --r: 18px;
      --pill: 999px;
      --t: .18s ease-out;
    }
    body[data-theme="dark"]{
      --bg:#0b1220;
      --bg-soft: radial-gradient(circle at top, rgba(56,189,248,0.18), transparent 55%);
      --header: rgba(15,23,42,0.92);
      --card: rgba(15,23,42,0.98);
      --border: rgba(148,163,184,0.28);
      --text:#f9fafb;
      --muted:#9ca3af;
      --shadow: 0 18px 45px rgba(15,23,42,0.85);
    }
    body{
      font-family: system-ui, -apple-system, "Segoe UI", Arial, sans-serif;
      background: var(--bg-soft), radial-gradient(circle at bottom, rgba(16,185,129,0.12), transparent 60%), var(--bg);
      color: var(--text);
      min-height:100vh;
    }
    header{
      position: sticky; top:0; z-index:20;
      backdrop-filter: blur(14px);
      background: var(--header);
      border-bottom: 1px solid var(--border);
    }
    .header-inner{
      max-width: 1050px;
      margin: 0 auto;
      padding: .85rem 1rem;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:.75rem;
      flex-wrap:wrap;
    }
    .brand{display:flex;align-items:center;gap:.75rem}
    .brand img{width:44px;height:44px;border-radius:999px;border:1px solid var(--border);object-fit:cover;background:#0f172a}
    .brand .txt{display:flex;flex-direction:column;gap:.15rem}
    .brand h1{font-size:1.2rem;font-weight:800;letter-spacing:.01em}
    .brand p{font-size:.86rem;color:var(--muted)}
    .right{display:flex;align-items:center;gap:.55rem;flex-wrap:wrap}
    .toggle{
      display:inline-flex;align-items:center;gap:.4rem;
      padding:.45rem .9rem;border-radius:var(--pill);
      border:1px solid var(--border);
      background: rgba(148,163,184,0.10);
      cursor:pointer;
      transition: transform var(--t), border-color var(--t);
      font-weight:700;
      font-size:.85rem;
    }
    .toggle:hover{transform: translateY(-1px); border-color: rgba(37,99,235,.6)}
    .btn{
      display:inline-flex;align-items:center;justify-content:center;gap:.45rem;
      padding:.55rem .95rem;
      border-radius: var(--pill);
      border: 1px solid transparent;
      text-decoration:none;
      font-weight:800;
      font-size:.9rem;
      cursor:pointer;
      transition: transform var(--t), box-shadow var(--t), border-color var(--t);
      white-space:nowrap;
    }
    .btn:hover{transform: translateY(-1px)}
    .btn.whatsapp{
      background: linear-gradient(135deg, #22c55e, #16a34a);
      color: #052e16;
      box-shadow: 0 10px 24px rgba(21,128,61,0.35);
    }
    .btn.secondary{background: transparent;border-color: var(--border);color: var(--text);}
    .wa-ico{width:18px;height:18px;display:block}

    main{max-width:1050px;margin:1.25rem auto 2.75rem;padding:0 1rem}
    .hero{
      border:1px solid var(--border);
      background: var(--card);
      border-radius: var(--r);
      box-shadow: var(--shadow);
      padding: 1.1rem 1.1rem 1.2rem;
    }
    .hero h2{font-size:1.25rem;margin-bottom:.35rem}
    .hero p{color:var(--muted);font-size:.95rem;line-height:1.45}
    .pricebar{
      margin-top:.75rem;
      padding:.75rem .9rem;
      border-radius: var(--r);
      border:1px dashed rgba(37,99,235,0.35);
      background: rgba(37,99,235,0.06);
      color: var(--muted);
      font-size:.92rem;
      line-height:1.35;
    }
    .hero .quick{margin-top:.9rem;display:flex;gap:.55rem;flex-wrap:wrap;}
    .chip{
      display:inline-flex;align-items:center;gap:.4rem;
      padding:.42rem .75rem;border-radius: var(--pill);
      border:1px solid var(--border);
      background: rgba(148,163,184,0.10);
      text-decoration:none;
      font-weight:750;
      color: var(--text);
      font-size:.86rem;
    }

    .section{margin-top:1.35rem}
    .section-head{margin-bottom:.8rem}
    
.section-head h2{
  font-size:1.8rem;
  font-weight:900;
  letter-spacing:.3px;
  margin:0 0 .25rem 0;
}
.section-head p{margin:0}

.btn .btn-price{
  font-weight:800;
  margin-left:.35rem;
  white-space:nowrap;
  font-size:.95em;
}
.card-actions .price,
.card-body .price{
  display:none;
}
.section h2{font-size:1.1rem;display:flex;align-items:center;gap:.45rem}
    .section h2::before{content:""; width:4px; height:1.05rem; border-radius:999px;background: linear-gradient(180deg, var(--accent2), var(--accent));}
    .section p{color:var(--muted);font-size:.92rem;margin-top:.35rem;line-height:1.4}
    .grid{display:grid;grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));gap: 1rem;}
    .card{
      border:1px solid var(--border);
      background: var(--card);
      border-radius: var(--r);
      box-shadow: var(--shadow);
      overflow:hidden;
      display:flex;
      flex-direction:column;
      min-height: 340px;
      transition: transform var(--t), border-color var(--t);
    }
    .card:hover{transform: translateY(-2px); border-color: rgba(37,99,235,0.45)}
    

/* =========================
   SECCIONES M√ÅS DIFERENCIADAS
   ========================= */

/* Caja de secci√≥n completa */
.section{
  margin-top: 1.35rem;
  padding: 1rem;
  border-radius: calc(var(--r) + 6px);
  border: 2px solid rgba(148,163,184,0.45);
  background: linear-gradient(180deg, rgba(148,163,184,0.10), rgba(148,163,184,0.04));
  box-shadow: 0 10px 26px rgba(15,23,42,0.08);
  position: relative;
}

/* Barra lateral de color (se cambia por secci√≥n) */
.section::before{
  content:"";
  position:absolute;
  left: 10px;
  top: 12px;
  bottom: 12px;
  width: 6px;
  border-radius: 999px;
  background: var(--sec-accent, linear-gradient(180deg, var(--accent2), var(--accent)));
  opacity: .95;
}

/* Acomodo del contenido para que no choque con la barra */
.section-head, .grid, .bundle{
  margin-left: 14px;
}

/* Head m√°s ‚Äúpro‚Äù */
.section-head{
  padding: .6rem .75rem .8rem;
  border-radius: calc(var(--r) - 6px);
  border: 1px solid rgba(148,163,184,0.35);
  background: rgba(255,255,255,0.55);
}
body[data-theme="dark"] .section-head{
  background: rgba(15,23,42,0.55);
}

/* Cards con borde m√°s fuerte para que NO se mezclen */
.card{
  border: 2px solid rgba(148,163,184,0.45);
  box-shadow: 0 12px 28px rgba(15,23,42,0.10);
}
.card:hover{
  border-color: rgba(37,99,235,0.65);
}

/* Separador suave dentro de cada card (opcional pero ayuda) */
.card-body{
  border-top: 1px solid rgba(148,163,184,0.25);
}

/* =========================
   COLORES POR SECCI√ìN (IDs)
   ========================= */
#manuales{ --sec-accent: linear-gradient(180deg, #2563eb, #10b981); }
#en-vivo{  --sec-accent: linear-gradient(180deg, #ef4444, #f59e0b); }
#clases{   --sec-accent: linear-gradient(180deg, #8b5cf6, #2563eb); }
#apps{     --sec-accent: linear-gradient(180deg, #22c55e, #06b6d4); }

/* Fondo suave por secci√≥n (opcional, queda elegante) */
#manuales{ background: linear-gradient(180deg, rgba(37,99,235,0.08), rgba(16,185,129,0.05)); }
#en-vivo{  background: linear-gradient(180deg, rgba(239,68,68,0.10), rgba(245,158,11,0.06)); }
#clases{   background: linear-gradient(180deg, rgba(139,92,246,0.10), rgba(37,99,235,0.06)); }
#apps{     background: linear-gradient(180deg, rgba(34,197,94,0.10), rgba(6,182,212,0.06)); }

/* Ajuste m√≥vil: menos padding para que no ‚Äúapriete‚Äù */
@media (max-width: 520px){
  .section{ padding: .85rem; }
  .section::before{ left: 8px; top: 10px; bottom: 10px; }
  .section-head, .grid, .bundle{ margin-left: 12px; }
}

.thumb{width:100%;height:155px;object-fit:cover;background:#0f172a}
    .card-body{padding: .85rem .95rem .65rem; display:flex; flex-direction:column; gap:.45rem}
    .tag{
      align-self:flex-start;
      font-size:.76rem;
      font-weight:800;
      padding:.18rem .55rem;
      border-radius: var(--pill);
      border:1px solid rgba(37,99,235,0.30);
      background: rgba(37,99,235,0.10);
      color: var(--text);
    }
    .card h3{font-size:1rem; font-weight:850; letter-spacing:-.01em}
    .price{
      font-weight:900;
      font-size:.95rem;
      padding:.2rem .6rem;
      border-radius: var(--pill);
      border:1px solid rgba(16,185,129,0.25);
      background: rgba(16,185,129,0.10);
      width: fit-content;
    }
    .desc{color:var(--muted); font-size:.92rem; line-height:1.35}
    .card-actions{margin-top:auto; padding: .75rem .95rem .95rem; display:flex; gap:.55rem; flex-wrap:wrap}
    .btns-row{display:flex; gap:.55rem; flex-wrap:wrap}

    .bundle{
      margin-top: 1rem;
      border: 1px solid rgba(16,185,129,0.35);
      background: linear-gradient(135deg, rgba(16,185,129,0.10), rgba(37,99,235,0.08));
      border-radius: var(--r);
      box-shadow: var(--shadow);
      padding: .95rem;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: .8rem;
      flex-wrap: wrap;
    }
    .bundle-title{font-size:1rem; font-weight:950; letter-spacing:-.01em}
    .bundle-price{margin-top:.25rem; font-weight:950}
    .bundle-desc{margin-top:.25rem; color:var(--muted); font-size:.92rem; line-height:1.35}
    .bundle-actions{display:flex; gap:.55rem; flex-wrap:wrap; align-items:center; justify-content:flex-end}

    .how{margin-top:1.35rem;border:1px solid var(--border);background: var(--card);border-radius: var(--r);box-shadow: var(--shadow);padding: 1rem 1.05rem;}
    .how ol{margin-top:.55rem; padding-left: 1.1rem;}
    .how li{margin:.25rem 0;}
    .how small{display:block; margin-top:.55rem; color:var(--muted); line-height:1.35}
    footer{text-align:center; padding:1.3rem 1rem 2rem; color:var(--muted); font-size:.85rem}
    .float-wa{position:fixed; right:16px; bottom:16px; z-index:60;border-radius: var(--pill);padding:.7rem .9rem;text-decoration:none;background: linear-gradient(135deg, #22c55e, #16a34a);color:#052e16;font-weight:900;box-shadow: 0 18px 45px rgba(15,23,42,0.25);border:1px solid rgba(21,128,61,0.35);}
  

    .currency-wrap{display:flex;align-items:center;gap:.45rem;padding:.35rem .55rem;border:1px solid var(--border);border-radius:var(--pill);background: rgba(148,163,184,0.10);}
    .currency-label{font-weight:800;font-size:.82rem;color:var(--muted)}
    .currency-select{
      border:none; outline:none; background:transparent; color:var(--text);
      font-weight:900; font-size:.88rem; cursor:pointer;
      padding:.2rem .25rem;
    }
    .price-part{display:inline-flex;gap:.35rem;align-items:baseline}

    .temario{margin-top:.35rem;padding-left:1.1rem;color:var(--muted);font-size:.9rem;line-height:1.35}
    .temario li{margin:.18rem 0}


    /* --- Header compacto: iconos (moneda / tema) a la izquierda --- */
    .left{display:flex; align-items:center; gap:.7rem; flex-wrap:wrap}
    .top-left-controls{position:relative; display:flex; align-items:center; gap:.4rem}
    .iconbtn{
      width:38px; height:38px;
      border-radius: var(--pill);
      border:1px solid var(--border);
      background: rgba(148,163,184,0.10);
      cursor:pointer;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      font-weight:900;
      font-size:1.05rem;
      transition: transform var(--t), border-color var(--t);
    }
    .iconbtn:hover{transform: translateY(-1px); border-color: rgba(37,99,235,.6)}
    .currency-pop{
      position:absolute;
      left:0;
      top:44px;
      padding:.45rem;
      border-radius: 14px;
      background: var(--header);
      border:1px solid var(--border);
      box-shadow: var(--shadow);
      backdrop-filter: blur(14px);
      display:none;
      z-index:50;
    }
    .currency-pop.show{display:block}
    .currency-select{
      min-width:190px;
      border:1px solid var(--border);
      border-radius: 12px;
      padding:.45rem .6rem;
      background: rgba(148,163,184,0.10);
      color: var(--text);
      font-weight:900;
      outline:none;
    }
    .sr-only{
      position:absolute;
      width:1px; height:1px;
      padding:0; margin:-1px;
      overflow:hidden;
      clip:rect(0,0,0,0);
      white-space:nowrap;
      border:0;
    }
    /* chips m√°s compactos */
    .chip{padding:.34rem .6rem; font-size:.82rem}


    /* ===== Curso en vivo: Badge + Contador ===== */
    .live-badge{
      display:inline-flex;
      align-items:center;
      gap:.4rem;
      padding:.28rem .65rem;
      border-radius: var(--pill);
      font-weight:950;
      font-size:.78rem;
      letter-spacing:.2px;
      border:1px solid rgba(245,158,11,0.55);
      background: rgba(245,158,11,0.16);
      box-shadow: 0 10px 24px rgba(245,158,11,0.20);
      margin-top:.15rem;
      width: fit-content;
      animation: livePulse 1.6s ease-in-out infinite;
    }
    .live-dot{
      width:10px;height:10px;border-radius:999px;
      background: #f59e0b;
      box-shadow: 0 0 0 rgba(245,158,11,0.65);
      animation: liveDot 1.6s ease-in-out infinite;
      flex: 0 0 auto;
    }
    @keyframes livePulse{
      0%,100%{transform: translateY(0); }
      50%{transform: translateY(-1px); }
    }
    @keyframes liveDot{
      0%{ box-shadow: 0 0 0 0 rgba(245,158,11,0.65); }
      70%{ box-shadow: 0 0 0 10px rgba(245,158,11,0); }
      100%{ box-shadow: 0 0 0 0 rgba(245,158,11,0); }
    }

    .countdown{
      margin-top:.55rem;
      border:1px dashed rgba(239,68,68,0.45);
      background: rgba(239,68,68,0.08);
      border-radius: calc(var(--r) - 6px);
      padding:.6rem .7rem;
    }
    .countdown .lbl{
      font-weight:950;
      font-size:.82rem;
      letter-spacing:.2px;
      margin-bottom:.25rem;
    }
    .countdown .time{
      display:flex;
      gap:.45rem;
      flex-wrap:wrap;
      align-items:baseline;
      font-weight:950;
    }
    .cd-box{
      display:inline-flex;
      align-items:baseline;
      gap:.25rem;
      padding:.35rem .55rem;
      border-radius: 14px;
      border:1px solid rgba(148,163,184,0.35);
      background: rgba(148,163,184,0.10);
    }
    .cd-num{ font-size:1.05rem; }
    .cd-unit{ font-size:.75rem; color: var(--muted); font-weight:850; }

</style>
</head>
<body data-theme="light">
<header>
<div class="header-inner">
  <div class="right">
   
    <div class="brand">
<img alt="Logo Pasir Industrial" src="img/logo-pasir.png"/>
<div class="txt">
<h1>Pasir Industrial</h1>
<p>Escuela T√©cnica Online</p>
</div>
  </div>

  <div class="right">
    <a class="chip" href="#manuales">üìò Manuales</a> <a class="chip" href="#en-vivo">üî¥ Curso en vivo</a> <a class="chip" href="#clases">üéì Clases grabadas</a> <a class="chip" href="#apps">üì± Apps</a> <a class="chip" href="login.html">üîê Iniciar sesi√≥n</a> <a class="chip" href="account.html">üìö Mis cursos</a>
  
  <div class="top-left-controls">
    <button class="iconbtn" id="currency-btn" type="button" aria-label="Cambiar moneda">üí±</button>
    <div class="currency-pop" id="currency-pop">
      <select class="currency-select" id="currency-select"></select>
    </div>
    <button class="iconbtn" id="theme-toggle" type="button" aria-label="Cambiar tema">
       <span id="theme-icon">‚òÄÔ∏è</span>
        <span id="theme-label" class="sr-only">Modo claro</span>
      </button>
    </div>
</header>


</section>
<section class="section" id="en-vivo">
  <div class="section-head">
    <h2>Curso en vivo</h2>
    <p>Aprende con clases en directo, pr√°ctica guiada y soporte en tiempo real.</p>
  </div>

  <div class="grid">
    <article class="card">
      <img class="thumb" src="img/curso_en_vivo_electricidad_industrial.jpg" alt="Curso en vivo de Electricidad Industrial"/>
      <div class="card-body">
        <div class="tag">üî¥ En vivo ‚Ä¢ Zoom</div>
        <h3>Electricidad Industrial (En vivo)</h3>

        <div class="live-badge" aria-label="Cupos limitados">
          <span class="live-dot" aria-hidden="true"></span>
          CUPOS LIMITADOS
        </div>




        

        <p class="desc">
          <b>Inicio:</b> 02 de Febrero<br/>
          <b>Sesiones:</b> 8 (Lunes y Mi√©rcoles)<br/>
          <b>Horario:</b> 8:00 pm ‚Äì 10:00 pm<br/>
          <b>Modalidad:</b> Zoom (En vivo)
        </p>

        <ul class="temario">
          <li><b>M√≥dulo 1:</b> Fundamentos de sistemas trif√°sicos y dispositivos de mando</li>
          <li><b>M√≥dulo 2:</b> El contactor y protecci√≥n contra sobrecargas</li>
          <li><b>M√≥dulo 3:</b> Arranque directo de motores trif√°sicos</li>
          <li><b>M√≥dulo 4:</b> Arranque estrella‚Äìtri√°ngulo y temporizadores</li>
          <li><b>M√≥dulo 5:</b> Detecci√≥n de fallas, pr√°cticas reales y otros arranques</li>
        </ul>

        <p class="desc"><b>Incluye:</b> Manual PDF + Certificado</p>
      </div>

      <div class="card-actions">
<div class="price" data-price-kind="single" data-price-pen="60" data-price-usd="23"></div>
<a class="btn whatsapp"
           data-buy="1"
           data-category="Curso en vivo"
           data-product="Curso en Vivo de Electricidad Industrial"
           data-plan=""
           data-price-pen="60"
           data-price-usd="23"
           href="#">
          <img class="wa-ico" src="whatsapp.png" alt="WhatsApp"/> Reservar cupo
        </a>
      </div>
    </article>
  </div>
</section>

<section class="section" id="manuales">
<div class="section-head">
<h2>Manuales</h2>
<p>Manuales en PDF listos para estudiar y reforzar lo pr√°ctico</p>
</div>
<div class="grid">
<article class="card">
<img alt="Electricidad industrial y automatizaci√≥n" class="thumb" src="img/manual_industrial.jpg"/>
<div class="card-body">
<div class="tag">Manuales</div>
<h3>Electricidad industrial y automatizaci√≥n</h3>

<p class="desc">Manual PDF pr√°ctico para instalaciones industriales, mando, protecciones y automatizaci√≥n b√°sica.</p>
</div>
<div class="card-actions">
<div class="price" data-price-kind="single" data-price-pen="15" data-price-usd="8"></div>
<a class="btn whatsapp" data-buy="1" data-category="Manuales" data-orig-href="https://wa.me/51926299585?text=Hola%2C%20buen%20d%C3%ADa.%0AQuiero%20adquirir%3A%20Electricidad%20industrial%20y%20automatizaci%C3%B3n.%0ACategor%C3%ADa%3A%20Manuales.%0APrecio%3A%20S/15%20%C2%B7%20%248.%0A%C2%BFC%C3%B3mo%20lo%20recibo%20/%20activo%3F%0AGracias." data-plan="" data-price-pen="15" data-price-usd="8" data-product="Electricidad industrial y automatizaci√≥n" href="https://wa.me/51926299585?text=Hola%2C%20buen%20d%C3%ADa.%0AQuiero%20adquirir%3A%20Electricidad%20industrial%20y%20automatizaci%C3%B3n.%0ACategor%C3%ADa%3A%20Manuales.%0APrecio%3A%20S/15%20%C2%B7%20%248.%0A%C2%BFC%C3%B3mo%20lo%20recibo%20/%20activo%3F%0AGracias." rel="noopener noreferrer" target="_blank">
<img alt="WhatsApp" class="wa-ico" src="whatsapp.png"/> Comprar
              </a>
</div>
</article>
<article class="card">
<img alt="Electroneum√°tica e hidr√°ulica" class="thumb" src="img/manual_neumatica.jpg"/>
<div class="card-body">
<div class="tag">Manuales</div>
<h3>Electroneum√°tica e hidr√°ulica</h3>

<p class="desc">Manual PDF pr√°ctico: actuadores, v√°lvulas, simbolog√≠a y circuitos (paso a paso).</p>
</div>
<div class="card-actions">
<div class="price" data-price-kind="single" data-price-pen="15" data-price-usd="8"></div>
<a class="btn whatsapp" data-buy="1" data-category="Manuales" data-orig-href="https://wa.me/51926299585?text=Hola%2C%20buen%20d%C3%ADa.%0AQuiero%20adquirir%3A%20Electroneum%C3%A1tica%20e%20hidr%C3%A1ulica.%0ACategor%C3%ADa%3A%20Manuales.%0APrecio%3A%20S/15%20%C2%B7%20%248.%0A%C2%BFC%C3%B3mo%20lo%20recibo%20/%20activo%3F%0AGracias." data-plan="" data-price-pen="15" data-price-usd="8" data-product="Electroneum√°tica e hidr√°ulica" href="https://wa.me/51926299585?text=Hola%2C%20buen%20d%C3%ADa.%0AQuiero%20adquirir%3A%20Electroneum%C3%A1tica%20e%20hidr%C3%A1ulica.%0ACategor%C3%ADa%3A%20Manuales.%0APrecio%3A%20S/15%20%C2%B7%20%248.%0A%C2%BFC%C3%B3mo%20lo%20recibo%20/%20activo%3F%0AGracias." rel="noopener noreferrer" target="_blank">
<img alt="WhatsApp" class="wa-ico" src="whatsapp.png"/> Comprar
              </a>
</div>
</article>
<article class="card">
<img alt="Electricidad domiciliaria" class="thumb" src="img/manual_domiciliaria.jpg"/>
<div class="card-body">
<div class="tag">Manuales</div>
<h3>Electricidad domiciliaria</h3>

<p class="desc">Manual PDF pr√°ctico: circuitos domiciliarios, tableros, protecciones y buenas pr√°cticas.</p>
</div>
<div class="card-actions">
<div class="price" data-price-kind="single" data-price-pen="15" data-price-usd="8"></div>
<a class="btn whatsapp" data-buy="1" data-category="Manuales" data-orig-href="https://wa.me/51926299585?text=Hola%2C%20buen%20d%C3%ADa.%0AQuiero%20adquirir%3A%20Electricidad%20domiciliaria.%0ACategor%C3%ADa%3A%20Manuales.%0APrecio%3A%20S/15%20%C2%B7%20%248.%0A%C2%BFC%C3%B3mo%20lo%20recibo%20/%20activo%3F%0AGracias." data-plan="" data-price-pen="15" data-price-usd="8" data-product="Electricidad domiciliaria" href="https://wa.me/51926299585?text=Hola%2C%20buen%20d%C3%ADa.%0AQuiero%20adquirir%3A%20Electricidad%20domiciliaria.%0ACategor%C3%ADa%3A%20Manuales.%0APrecio%3A%20S/15%20%C2%B7%20%248.%0A%C2%BFC%C3%B3mo%20lo%20recibo%20/%20activo%3F%0AGracias." rel="noopener noreferrer" target="_blank">
<img alt="WhatsApp" class="wa-ico" src="whatsapp.png"/> Comprar
              </a>
</div>
</article>
<article class="card">
  <img alt="Electr√≥nica b√°sica" class="thumb" src="img/manual_electronica_basica.jpg"/>
  <div class="card-body">
    <div class="tag">Manuales</div>
    <h3>Electr√≥nica b√°sica</h3>
    <p class="desc">Componentes, Principios y fundamentos, Ley de Ohm, diodos, transistores, mediciones y pr√°ctica aplicada.</p>
  </div>
  <div class="card-actions">
    <div class="price" data-price-kind="single" data-price-pen="15" data-price-usd="8"></div>
    <a class="btn whatsapp" data-buy="1" data-category="Manuales" data-plan="" data-price-pen="15" data-price-usd="8"
       data-product="Electr√≥nica b√°sica" href="#" rel="noopener noreferrer" target="_blank">
      <img alt="WhatsApp" class="wa-ico" src="whatsapp.png"/> Comprar
    </a>
  </div>
</article>
</div>
</section>



<section class="section" id="clases">
<div class="section-head">
<h2>Clases grabadas</h2>
<p>Acceso a cursos anteriores grabados. (Actualizaci√≥n de cursos cada 6 meses).</p>

</div>
</article>
<article class="card">
<img alt="Electricidad industrial ‚Äì L√≥gica cableada" class="thumb" src="img/curso_industrial_logica.jpg"/>
<div class="card-body">
<div class="tag">Clases grabadas</div>
<h3>Electricidad industrial ‚Äì L√≥gica cableada</h3>

<p class="desc">Aprende a dise√±ar y cablear mandos el√©ctricos reales: control, fuerza y arranques de motores.</p>
<ul class="temario">
<li>Dispositivos empleados para la l√≥gica cableada</li>
<li>Herramientas de dise√±o y simulaci√≥n</li>
<li>Dise√±os de circuitos b√°sicos (funciones l√≥gicas)</li>
<li>Dise√±o de circuitos de control y fuerza</li>
<li>Control y arranque de motor trif√°sico y monof√°sico</li>
</ul>
</div>
<div class="card-actions">
<div class="price" data-price-kind="single" data-price-pen="25" data-price-usd="11"></div>
<a class="btn whatsapp" data-buy="1" data-category="Clases grabadas" data-orig-href="https://wa.me/51926299585?text=Hola%2C%20buen%20d%C3%ADa.%0AQuiero%20adquirir%3A%20Electricidad%20industrial%20%E2%80%93%20L%C3%B3gica%20cableada.%0ACategor%C3%ADa%3A%20Clases%20grabadas.%0APrecio%3A%20S/25%20%C2%B7%20%2411.%0A%C2%BFC%C3%B3mo%20lo%20recibo%20/%20activo%3F%0AGracias." data-plan="" data-price-pen="25" data-price-usd="11" data-product="Electricidad industrial ‚Äì L√≥gica cableada" href="https://wa.me/51926299585?text=Hola%2C%20buen%20d%C3%ADa.%0AQuiero%20adquirir%3A%20Electricidad%20industrial%20%E2%80%93%20L%C3%B3gica%20cableada.%0ACategor%C3%ADa%3A%20Clases%20grabadas.%0APrecio%3A%20S/25%20%C2%B7%20%2411.%0A%C2%BFC%C3%B3mo%20lo%20recibo%20/%20activo%3F%0AGracias." rel="noopener noreferrer" target="_blank">
<img alt="WhatsApp" class="wa-ico" src="whatsapp.png"/> Comprar
              </a>
</div>
</article>
<article class="card">
<img alt="Electroneum√°tica" class="thumb" src="img/curso_electroneumatica.jpg"/>
<div class="card-body">
<div class="tag">Clases grabadas</div>
<h3>Electroneum√°tica</h3>

<p class="desc">Domina la electroneum√°tica desde fundamentos hasta secuencias, usando simbolog√≠a y simulaci√≥n.</p>
<ul class="temario">
<li>Fundamentos de la neum√°tica</li>
<li>Producci√≥n y distribuci√≥n de aire comprimido</li>
<li>Dispositivos empleados en un sistema electroneum√°tico</li>
<li>Herramientas para el dise√±o y simulaci√≥n de circuitos</li>
<li>Secuencias de dos cilindros con el m√©todo paso a paso y cascada</li>
</ul>
</div>
<div class="card-actions">
<div class="price" data-price-kind="single" data-price-pen="25" data-price-usd="11"></div>
<a class="btn whatsapp" data-buy="1" data-category="Clases grabadas" data-orig-href="https://wa.me/51926299585?text=Hola%2C%20buen%20d%C3%ADa.%0AQuiero%20adquirir%3A%20Electroneum%C3%A1tica.%0ACategor%C3%ADa%3A%20Clases%20grabadas.%0APrecio%3A%20S/25%20%C2%B7%20%2411.%0A%C2%BFC%C3%B3mo%20lo%20recibo%20/%20activo%3F%0AGracias." data-plan="" data-price-pen="25" data-price-usd="11" data-product="Electroneum√°tica" href="https://wa.me/51926299585?text=Hola%2C%20buen%20d%C3%ADa.%0AQuiero%20adquirir%3A%20Electroneum%C3%A1tica.%0ACategor%C3%ADa%3A%20Clases%20grabadas.%0APrecio%3A%20S/25%20%C2%B7%20%2411.%0A%C2%BFC%C3%B3mo%20lo%20recibo%20/%20activo%3F%0AGracias." rel="noopener noreferrer" target="_blank">
<img alt="WhatsApp" class="wa-ico" src="whatsapp.png"/> Comprar
              </a>
</div>
</article>
<article class="card">
<img alt="PLC LOGO! 8" class="thumb" src="img/curso_logo8.jpg"/>
<div class="card-body">
<div class="tag">Clases grabadas</div>
<h3>PLC LOGO! 8</h3>

<p class="desc">L√≥gica programada con Siemens LOGO!: del primer programa a control de motores con Ladder/FBD.</p>
<ul class="temario">
<li>Introducci√≥n a la programaci√≥n del microautomata LOGO</li>
<li>Herramientas de simulaci√≥n y ejercicios de funciones l√≥gicas</li>
<li>Dise√±o de circuitos b√°sicos (Ladder - FBD)</li>
<li>Convertir circuitos de l√≥gica cableada a Ladder y FBD</li>
<li>Control y arranque de motores el√©ctricos con LOGO</li>
</ul>
</div>
<div class="card-actions">
<div class="price" data-price-kind="single" data-price-pen="25" data-price-usd="11"></div>
<a class="btn whatsapp" data-buy="1" data-category="Clases grabadas" data-orig-href="https://wa.me/51926299585?text=Hola%2C%20buen%20d%C3%ADa.%0AQuiero%20adquirir%3A%20PLC%20LOGO%21%208.%0ACategor%C3%ADa%3A%20Clases%20grabadas.%0APrecio%3A%20S/25%20%C2%B7%20%2411.%0A%C2%BFC%C3%B3mo%20lo%20recibo%20/%20activo%3F%0AGracias." data-plan="" data-price-pen="25" data-price-usd="11" data-product="PLC LOGO! 8" href="https://wa.me/51926299585?text=Hola%2C%20buen%20d%C3%ADa.%0AQuiero%20adquirir%3A%20PLC%20LOGO%21%208.%0ACategor%C3%ADa%3A%20Clases%20grabadas.%0APrecio%3A%20S/25%20%C2%B7%20%2411.%0A%C2%BFC%C3%B3mo%20lo%20recibo%20/%20activo%3F%0AGracias." rel="noopener noreferrer" target="_blank">
<img alt="WhatsApp" class="wa-ico" src="whatsapp.png"/> Comprar
              </a>
</div>
</article>
</div>
</section>
<section class="section" id="apps">
<div class="section-head">
<h2>Apps</h2>
<p>Aplicaciones did√°cticas para seguir aprendiendo.</p>
</div>
<div class="grid">
<article class="card">
<img alt="Logicsoft" class="thumb" src="img/app_logicsoft.jpg"/>
<div class="card-body">
<div class="tag">Apps</div>
<h3>Logicsoft</h3>
<div class="price" data-price-kind="multi"><span class="price-part" data-label="Mensual" data-price-pen="10" data-price-usd="6"></span>  <span class="price-part" data-label="Anual" data-price-pen="30" data-price-usd="10"></span></div>
<p class="desc">Simulador de l√≥gica (compuertas/bloques) para aprender automatizaci√≥n.</p>
</div>
<div class="card-actions"><div class="btns-row"><a class="btn whatsapp" data-buy="1" data-category="Apps" data-orig-href="https://wa.me/51926299585?text=Hola%2C%20buen%20d%C3%ADa.%0AQuiero%20adquirir%20la%20APP%3A%20Logicsoft%20%28Mensual%29.%0APrecio%3A%20S/10%20%C2%B7%20%246.%0A%C2%BFC%C3%B3mo%20me%20activas%20el%20acceso%3F%0AGracias." data-plan="Mensual" data-price-pen="10" data-price-usd="6" data-product="Logicsoft" href="https://wa.me/51926299585?text=Hola%2C%20buen%20d%C3%ADa.%0AQuiero%20adquirir%20la%20APP%3A%20Logicsoft%20%28Mensual%29.%0APrecio%3A%20S/10%20%C2%B7%20%246.%0A%C2%BFC%C3%B3mo%20me%20activas%20el%20acceso%3F%0AGracias." rel="noopener noreferrer" target="_blank">
<img alt="WhatsApp" class="wa-ico" src="whatsapp.png"/> Comprar Mensual
                    </a><a class="btn whatsapp" data-buy="1" data-category="Apps" data-orig-href="https://wa.me/51926299585?text=Hola%2C%20buen%20d%C3%ADa.%0AQuiero%20adquirir%20la%20APP%3A%20Logicsoft%20%28Anual%29.%0APrecio%3A%20S/30%20%C2%B7%20%2410.%0A%C2%BFC%C3%B3mo%20me%20activas%20el%20acceso%3F%0AGracias." data-plan="Anual" data-price-pen="30" data-price-usd="10" data-product="Logicsoft" href="https://wa.me/51926299585?text=Hola%2C%20buen%20d%C3%ADa.%0AQuiero%20adquirir%20la%20APP%3A%20Logicsoft%20%28Anual%29.%0APrecio%3A%20S/30%20%C2%B7%20%2410.%0A%C2%BFC%C3%B3mo%20me%20activas%20el%20acceso%3F%0AGracias." rel="noopener noreferrer" target="_blank">
<img alt="WhatsApp" class="wa-ico" src="whatsapp.png"/> Comprar Anual
                    </a></div></div>
</article>
<article class="card">
<img alt="Calculadora Pasir" class="thumb" src="img/app_calculadora.jpg"/>
<div class="card-body">
<div class="tag">Apps</div>
<h3>Calculadora Pasir</h3>

<p class="desc">Calculadora el√©ctrica industrial para dimensionamiento y apoyo did√°ctico.</p>
</div>
<div class="card-actions">
<div class="price" data-price-kind="single" data-price-pen="10" data-price-usd="5"></div>
<a class="btn whatsapp" data-buy="1" data-category="Apps" data-orig-href="https://wa.me/51926299585?text=Hola%2C%20buen%20d%C3%ADa.%0AQuiero%20adquirir%3A%20Calculadora%20Pasir.%0ACategor%C3%ADa%3A%20Apps.%0APrecio%3A%20S/10%20%C2%B7%20%246.%0A%C2%BFC%C3%B3mo%20lo%20recibo%20/%20activo%3F%0AGracias." data-plan="" data-price-pen="10" data-price-usd="5" data-product="Calculadora Pasir" href="https://wa.me/51926299585?text=Hola%2C%20buen%20d%C3%ADa.%0AQuiero%20adquirir%3A%20Calculadora%20Pasir.%0ACategor%C3%ADa%3A%20Apps.%0APrecio%3A%20S/10%20%C2%B7%20%246.%0A%C2%BFC%C3%B3mo%20lo%20recibo%20/%20activo%3F%0AGracias." rel="noopener noreferrer" target="_blank">
<img alt="WhatsApp" class="wa-ico" src="whatsapp.png"/> Comprar
              </a>
</div>
</article>
</div>
</section>
<section class="how" id="como-comprar">
<h2>C√≥mo comprar</h2>
<ol>
<li>Toca <b>Comprar</b> en el producto.</li>
<li>WhatsApp se abre con un mensaje autom√°tico.</li>
<li>Te respondo con <b>pago</b> y <b>entrega/activaci√≥n</b>.</li>
</ol>
<small>Sigueme en mis redes <b>Pasir Industrial</b>, </small>
</section>
</main>
<footer>
    ¬© <span id="y"></span> Pasir Industrial ‚Äì Elwin Pachas.
  </footer>
<a class="float-wa" href="https://wa.me/51926299585?text=Hola%2C%20buen%20d%C3%ADa.%20Quiero%20comprar%20un%20producto%20de%20Pasir%20Industrial." rel="noopener noreferrer" target="_blank">üí¨ WhatsApp</a>
<script>
    document.getElementById("y").textContent = new Date().getFullYear();

    const themeToggle = document.getElementById('theme-toggle');
    const themeIcon = document.getElementById('theme-icon');
    const themeLabel = document.getElementById('theme-label');
    const themeMeta = document.getElementById('theme-color-meta');

    function setTheme(theme) {
      document.body.setAttribute('data-theme', theme);
      const dark = theme === 'dark';
      themeIcon.textContent = dark ? 'üåô' : '‚òÄÔ∏è';
      themeLabel.textContent = dark ? 'Modo oscuro' : 'Modo claro';
      themeMeta.setAttribute('content', dark ? '#0b1220' : '#f3f4f6');
      localStorage.setItem('pasir-theme', theme);
    }

    const saved = localStorage.getItem('pasir-theme');
    setTheme(saved === 'dark' ? 'dark' : 'light');

    themeToggle.addEventListener('click', () => {
      const current = document.body.getAttribute('data-theme');
      setTheme(current === 'dark' ? 'light' : 'dark');
    });
  

    

    // --- Popover Moneda (icono üí±) ---
    const currencyBtn = document.getElementById('currency-btn');
    const currencyPop = document.getElementById('currency-pop');

    function closeCurrencyPop() {
      currencyPop && currencyPop.classList.remove('show');
    }

    currencyBtn && currencyBtn.addEventListener('click', (e) => {
      e.stopPropagation();
      currencyPop.classList.toggle('show');
    });

    document.addEventListener('click', (e) => {
      if (!currencyPop) return;
      if (!currencyPop.contains(e.target) && e.target !== currencyBtn) closeCurrencyPop();
    });

// --- Moneda / conversi√≥n ---
    const currencySelect = document.getElementById('currency-select');

    const regionToCurrency = {
      // Am√©rica
      "PE":"PEN","US":"USD","CA":"CAD","MX":"MXN","GT":"GTQ","HN":"HNL","NI":"NIO","CR":"CRC","PA":"PAB","DO":"DOP",
      "CO":"COP","CL":"CLP","AR":"ARS","BR":"BRL","UY":"UYU","PY":"PYG","BO":"BOB",
      // Europa
      "ES":"EUR","FR":"EUR","DE":"EUR","IT":"EUR","PT":"EUR","NL":"EUR","BE":"EUR","AT":"EUR","IE":"EUR","FI":"EUR","GR":"EUR",
      "GB":"GBP","CH":"CHF","SE":"SEK","NO":"NOK","DK":"DKK","PL":"PLN","CZ":"CZK","HU":"HUF","RO":"RON","BG":"BGN","RS":"RSD","UA":"UAH","RU":"RUB","IS":"ISK","TR":"TRY",
      // Asia / Ocean√≠a
      "JP":"JPY","CN":"CNY","HK":"HKD","KR":"KRW","IN":"INR","PK":"PKR","BD":"BDT","LK":"LKR","SG":"SGD","MY":"MYR","TW":"TWD","ID":"IDR","PH":"PHP","TH":"THB","VN":"VND",
      "AU":"AUD","NZ":"NZD",
      // Medio Oriente / √Åfrica
      "AE":"AED","SA":"SAR","QA":"QAR","KW":"KWD","BH":"BHD","OM":"OMR","IL":"ILS",
      "EG":"EGP","MA":"MAD","ZA":"ZAR","NG":"NGN","KE":"KES","GH":"GHS"
    };

    // --- Lista autom√°tica de monedas (desde la API de tasas) ---
    // Prioridad de orden: 1) Am√©rica del Sur, 2) Europa, 3) resto (A-Z)
    const prioritySouthAmerica = [
      "PEN","ARS","BOB","BRL","CLP","COP","PYG","UYU","VES","GYD","SRD"
    ];
    const priorityEurope = [
      "EUR","GBP","CHF","SEK","NOK","DKK","PLN","CZK","HUF","RON","BGN","RSD","UAH","ISK","TRY"
    ];

    // Nombres amigables para las m√°s usadas (si no existe, se muestra el c√≥digo)
    const currencyNames = {
      "PEN":"Sol (PEN)","USD":"D√≥lar (USD)","EUR":"Euro (EUR)","GBP":"Libra (GBP)","CHF":"Franco (CHF)",
      "ARS":"Peso argentino (ARS)","BOB":"Boliviano (BOB)","BRL":"Real (BRL)","CLP":"Peso chileno (CLP)",
      "COP":"Peso colombiano (COP)","PYG":"Guaran√≠ (PYG)","UYU":"Peso uruguayo (UYU)","VES":"Bol√≠var (VES)",
      "MXN":"Peso mexicano (MXN)","CAD":"D√≥lar canadiense (CAD)","AUD":"D√≥lar australiano (AUD)","NZD":"D√≥lar neozeland√©s (NZD)",
      "JPY":"Yen (JPY)","CNY":"Yuan (CNY)","HKD":"D√≥lar Hong Kong (HKD)","KRW":"Won (KRW)","INR":"Rupia (INR)",
      "SGD":"D√≥lar Singapur (SGD)","MYR":"Ringgit (MYR)","IDR":"Rupia indonesia (IDR)","PHP":"Peso filipino (PHP)",
      "THB":"Baht (THB)","VND":"Dong (VND)","ZAR":"Rand (ZAR)","AED":"Dirham (AED)","SAR":"Riyal (SAR)"
    };

    function labelForCurrency(code) {
      return currencyNames[code] || code;
    }

    function buildOptions(codes) {
      const uniq = Array.from(new Set(codes.filter(Boolean)));
      // Asegurar USD porque es la base
      if (!uniq.includes("USD")) uniq.push("USD");

      const saSet = new Set(prioritySouthAmerica);
      const euSet = new Set(priorityEurope);

      const sa = prioritySouthAmerica.filter(c => uniq.includes(c));
      const eu = priorityEurope.filter(c => uniq.includes(c));
      const other = uniq
        .filter(c => !saSet.has(c) && !euSet.has(c) && c !== "USD") // USD se incluye igual pero puede ir en "Otras"
        .sort((a,b) => a.localeCompare(b));

      // Si USD no est√° ya en SA/EU, lo ponemos al inicio de "Otras"
      const otherFinal = ["USD", ...other.filter(c => c !== "USD")];

      const makeOpt = (c) => `<option value="${c}">${labelForCurrency(c)}</option>`;

      const parts = [];
      parts.push(`<option value="AUTO">Auto (mi pa√≠s)</option>`);
      parts.push(`<optgroup label="Am√©rica del Sur">${sa.map(makeOpt).join("")}</optgroup>`);
      parts.push(`<optgroup label="Europa">${eu.map(makeOpt).join("")}</optgroup>`);
      parts.push(`<optgroup label="Otras monedas">${otherFinal.map(makeOpt).join("")}</optgroup>`);
      return parts.join("\n    ");
    }

    async function initCurrencyOptions() {
      // Mientras carga, deja el selector usable con AUTO/USD
      currencySelect.innerHTML = `<option value="AUTO">Auto (mi pa√≠s)</option>\n    <option value="USD">D√≥lar (USD)</option>`;
      currencySelect.disabled = true;

      try {
        const { rates } = await getRatesUSD();
        const codes = Object.keys(rates || {});
        currencySelect.innerHTML = buildOptions(codes);
      } catch (e) {
        // Si falla, dejamos al menos AUTO/USD + algunas comunes
        const fallback = [
          "USD","EUR","PEN","MXN","COP","CLP","ARS","BRL","UYU","PYG","BOB","GBP","CHF","JPY"
        ];
        currencySelect.innerHTML = buildOptions(fallback);
      } finally {
        currencySelect.disabled = false;
      }
    }


    function detectCurrencyFromLanguage() {
  const lang = (navigator.language || 'es-PE');
  const region = (lang.split('-')[1] || '').toUpperCase();
  return regionToCurrency[region] || "USD";
}

// Auto currency resolved by IP (best effort). Falls back to language if it fails.
let autoCurrency = null;
let autoCountry = null;

async function fetchJsonWithTimeout(url, timeoutMs = 2500) {
  const ctrl = new AbortController();
  const t = setTimeout(() => ctrl.abort(), timeoutMs);
  try {
    const resp = await fetch(url, { cache: "no-store", signal: ctrl.signal });
    if (!resp.ok) throw new Error("HTTP " + resp.status);
    return await resp.json();
  } finally {
    clearTimeout(t);
  }
}

async function detectCurrencyByIP() {
  // 1) ipwho.is (simple, no key). Example fields: country_code, currency_code
  try {
    const d1 = await fetchJsonWithTimeout("https://ipwho.is/?fields=success,country_code,currency_code");
    if (d1 && d1.success && d1.currency_code) {
      return { country: (d1.country_code || "").toUpperCase(), currency: d1.currency_code.toUpperCase() };
    }
  } catch (e) {}

  // 2) ipapi.co (fallback, no key). Fields: country, currency
  try {
    const d2 = await fetchJsonWithTimeout("https://ipapi.co/json/");
    if (d2 && (d2.currency || d2.country)) {
      return { country: (d2.country || "").toUpperCase(), currency: (d2.currency || "").toUpperCase() };
    }
  } catch (e) {}

  return null;
}

async function resolveAutoCurrency() {
  if (autoCurrency) return autoCurrency;

  // quick default
  autoCurrency = detectCurrencyFromLanguage();

  const r = await detectCurrencyByIP();
  if (r && r.currency) {
    autoCountry = r.country || autoCountry;
    // Rule: Peru always PEN (use your local PEN prices)
    if (r.country === "PE") {
      autoCurrency = "PEN";
    } else {
      autoCurrency = r.currency;
    }
  }
  return autoCurrency;
}

function detectCurrency() {
  return autoCurrency || detectCurrencyFromLanguage();
}

    function formatMoney(amount, currency) {
      const locale = (currency === "PEN") ? "es-PE" : (navigator.language || "en-US");
      // Algunas monedas trabajan sin decimales en la pr√°ctica (o casi siempre se muestran sin centavos)
      const zeroDecimals = new Set(["PEN","CLP","COP","ARS","JPY","KRW","VND","IDR","PYG"]);
      const decimals = zeroDecimals.has(currency) ? 0 : 2;
      try {
        return new Intl.NumberFormat(locale, {
          style: "currency",
          currency,
          minimumFractionDigits: decimals,
          maximumFractionDigits: decimals
        }).format(amount);
      } catch {
        // Fallback si el runtime no soporta el c√≥digo de moneda
        const n = new Intl.NumberFormat(locale, {
          minimumFractionDigits: decimals,
          maximumFractionDigits: decimals
        }).format(amount);
        return `${n} ${currency}`;
      }
    }

    async function getRatesFromOpenErApi() {
      // 160+ monedas, sin API key
      // Docs: https://open.er-api.com/ (ExchangeRate-API open access)
      const resp = await fetch('https://open.er-api.com/v6/latest/USD', { cache: 'no-store' });
      if (!resp.ok) throw new Error('open.er-api.com failed');
      const data = await resp.json();
      if (data?.result !== 'success' || !data?.rates) throw new Error('open.er-api.com bad payload');
      return { rates: data.rates, date: data.time_last_update_utc || null, provider: 'open.er-api.com' };
    }

    async function getRatesFromExchangeRateHost() {
      // Fallback
      const resp = await fetch('https://api.exchangerate.host/latest?base=USD', { cache: 'no-store' });
      if (!resp.ok) throw new Error('exchangerate.host failed');
      const data = await resp.json();
      if (!data?.rates) throw new Error('exchangerate.host bad payload');
      return { rates: data.rates, date: data.date || null, provider: 'exchangerate.host' };
    }

    async function getRatesUSD() {
      // cache de TODAS las tasas en sessionStorage
      const key = 'fx_USD_ALL';
      const cached = sessionStorage.getItem(key);
      if (cached) {
        try {
          const obj = JSON.parse(cached);
          if (obj?.rates && typeof obj.rates === 'object') return obj;
        } catch {}
      }

      let payload;
      try {
        payload = await getRatesFromOpenErApi();
      } catch (e1) {
        payload = await getRatesFromExchangeRateHost();
      }

      sessionStorage.setItem(key, JSON.stringify(payload));
      return payload;
    }

    async function getRateUSDTo(currency) {
      if (currency === 'USD') return 1;
      const data = await getRatesUSD();
      const rate = data?.rates?.[currency];
      if (typeof rate !== 'number') throw new Error('FX rate missing');
      return rate;
    }

    function buildWhatsAppLink({ product, category, plan, priceText }) {
      const cat = (category || "").toLowerCase();

      // Mensaje especial para cursos en vivo
      if (cat.includes("curso en vivo")) {
        const lines = [
          "Hola üëã, estoy interesado en el *Curso en Vivo de Electricidad Industrial*.",
          "",
          "üìÖ Inicio: 02 de Febrero",
          "üóìÔ∏è 8 sesiones ‚Äì Lunes y Mi√©rcoles",
          "‚è∞ Horario: 8:00 pm ‚Äì 10:00 pm",
          `üí∞ Precio: ${priceText}`,
          "",
          "Quisiera reservar mi cupo, por favor."
        ];
        const text = encodeURIComponent(lines.join("\n"));
        return `https://wa.me/51926299585?text=${text}`;
      }

      // Prefijo simple seg√∫n tipo (sin mencionar "Categor√≠a")
      let prefix = "Quiero adquirir";
      if (cat.includes("manual")) prefix = "Quiero adquirir los manuales de";
      else if (cat.includes("clases") || cat.includes("grabadas") || cat.includes("curso")) prefix = "Quiero adquirir el curso de";
      else if (cat.includes("app")) prefix = "Quiero adquirir la app";

      const item = `${product}${plan ? " (" + plan + ")" : ""}`;

      // Mensaje directo
      const msg = `Hola, buen d√≠a. ${prefix} ${item}. ${priceText}. ¬øC√≥mo puedo realizar el pago?`;
      return `https://wa.me/51926299585?text=${encodeURIComponent(msg)}`;
    }

    async function applyCurrency(currency) {
      const isPeru = currency === "PEN";

      // 1) actualizar precios visibles
      let rate = 1;
      if (!isPeru) {
        try {
          rate = await getRateUSDTo(currency);
        } catch (e) {
          // si falla la conversi√≥n, caer a USD
          currency = "USD";
          rate = 1;
          currencySelect.value = "USD";
        }
      }

      // precios simples (etiquetas)
      document.querySelectorAll('.price[data-price-kind="single"]').forEach(el => {
        const pen = Number(el.dataset.pricePen);
        const usd = Number(el.dataset.priceUsd);
        const amount = isPeru ? pen : (usd * rate);
        el.textContent = formatMoney(amount, isPeru ? "PEN" : currency);
      });

      // precios multi (Logicsoft)
      document.querySelectorAll('.price[data-price-kind="multi"] .price-part').forEach(part => {
        const label = part.dataset.label || "";
        const pen = Number(part.dataset.pricePen);
        const usd = Number(part.dataset.priceUsd);
        const amount = isPeru ? pen : (usd * rate);
        const money = formatMoney(amount, isPeru ? "PEN" : currency);
        part.textContent = `${label} ${money}`;
      });

      // 2) actualizar links + precio dentro del bot√≥n (cada bot√≥n usa su propio data-price-pen/usd)
      document.querySelectorAll('a[data-buy="1"]').forEach(a => {
        const product = a.dataset.product || "Producto";
        const category = a.dataset.category || "Pasir Industrial";
        const plan = (a.dataset.plan || "").trim();

        const pen = Number(a.dataset.pricePen);
        const usd = Number(a.dataset.priceUsd);

        const amount = isPeru ? pen : (usd * rate);
        let priceText = formatMoney(amount, isPeru ? "PEN" : currency);
        if (!isPeru) priceText = `${priceText} ${currency}`;

        // link WhatsApp con mensaje nuevo
        a.href = buildWhatsAppLink({ product, category, plan, priceText });

        // precio dentro del bot√≥n
        let span = a.querySelector(".btn-price");
        if (!span) {
          span = document.createElement("span");
          span.className = "btn-price";
          a.appendChild(span);
        }
        span.textContent = priceText ? ` ${priceText}` : "";
      });
    }

    function getSelectedCurrency() {
      const v = currencySelect.value;
      if (v === "AUTO") return detectCurrency();
      return v;
    }

    // init
    (async function initCurrency() {

      await initCurrencyOptions();

      // default: auto
      const savedCur = localStorage.getItem("pasir-currency") || "AUTO";

      // Si la moneda guardada ya no existe en la lista, vuelve a AUTO
      const exists = Array.from(currencySelect.options).some(o => o.value === savedCur);
      currencySelect.value = exists ? savedCur : "AUTO";

      if (currencySelect.value === "AUTO") {
        await resolveAutoCurrency();
      }

      applyCurrency(getSelectedCurrency());

      currencySelect.addEventListener("change", async () => {

        closeCurrencyPop();
localStorage.setItem("pasir-currency", currencySelect.value);
        if (currencySelect.value === "AUTO") {
          await resolveAutoCurrency();
        }
        applyCurrency(getSelectedCurrency());
      });
})();

    // ===== Contador regresivo: Curso en vivo (Lima -05:00) =====
    (function(){
      // Inicio del curso: 02 Febrero 2026, 8:00 pm (hora Per√∫)
      const targetISO = "2026-02-02T20:00:00-05:00";
      const target = new Date(targetISO).getTime();

      const elD = document.getElementById("cd-d");
      const elH = document.getElementById("cd-h");
      const elM = document.getElementById("cd-m");
      const elS = document.getElementById("cd-s");
      const wrap = document.getElementById("countdown-live");

      if(!elD || !elH || !elM || !elS || !wrap) return;

      const pad2 = (n) => String(n).padStart(2, "0");

      function tick(){
        const now = Date.now();
        let diff = target - now;

        if(diff <= 0){
          // Ya empez√≥
          elD.textContent = "00";
          elH.textContent = "00";
          elM.textContent = "00";
          elS.textContent = "00";
          wrap.innerHTML = '<span class="cd-box"><span class="cd-num">¬°HOY!</span> <span class="cd-unit">Inicia el curso</span></span>';
          clearInterval(timer);
          return;
        }

        const sec = Math.floor(diff/1000);
        const d = Math.floor(sec / 86400);
        const h = Math.floor((sec % 86400) / 3600);
        const m = Math.floor((sec % 3600) / 60);
        const s = sec % 60;

        elD.textContent = pad2(d);
        elH.textContent = pad2(h);
        elM.textContent = pad2(m);
        elS.textContent = pad2(s);
      }

      tick();
      const timer = setInterval(tick, 1000);
    })();

</script>
</body>
</html>
